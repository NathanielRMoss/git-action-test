name: Node Continuous Integration

on:
   #push:
   workflow_dispatch:

jobs:
  test_pull_request:
    runs-on: ubuntu-latest
    steps: 
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v2
      - run: 'yarn' 
        working-directory: ./simpleapp      
      - run: 'yarn build'
        working-directory: ./simpleapp
      - name: update remote repo
      - uses: appleboy/ssh-action@master
        with:
         host: $ {{ secrets.HOST }}
         username: $ {{ secrets.USERNAME }}
         password: $ {{ secrets.PASSWORD }}
         port: $ {{ secrets.PORT }}
         script: |
           cd git-action-test
           git pull origin master
           git status

         
